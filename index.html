<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steun Team Sander in de 100 km Run - Kom op tegen Kanker</title>
    <meta name="description" content="Doe mee met Team Sander in de 100 km Run voor Kom op tegen Kanker en help ons €2750 in te zamelen ter ondersteuning van onze vriend Jonathan en ter nagedachtenis aan Thomas' moeder.">
    <meta name="keywords" content="Kom op tegen Kanker, 100 km Run, donatie, kankerbestrijding, Team Sander, steun">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .hero {
            margin: 20px auto;
            width: 914px; /* Match the width of the iframe for perfect centering */
            display: flex;
            justify-content: center;
        }
        iframe {
            border: none;
        }
        .container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1, h2 {
            margin-bottom: 10px;
        }
        p {
            margin-bottom: 20px;
        }
        .btn-cont {
            text-align: center;
        }
        .button {
            background-color: #f04e31;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            display: inline-block;
            border-radius: 5px;
            horiz-align: center;
        }

        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            height: 20px;
            width: 0%;
            position: relative;
            background-color: #4caf50;
            overflow: hidden;
            transition: width 0.5s ease;
        }

        .stripes {
            position: absolute;
            top: 0;
            left: 0;
            width: 200%; /* Double the width for seamless rotation */
            height: 100%;
            background-image: linear-gradient(
                    45deg,
                    rgba(255, 255, 255, 0.2) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(255, 255, 255, 0.2) 50%,
                    rgba(255, 255, 255, 0.2) 75%,
                    transparent 75%,
                    transparent
            );
            background-size: 40px 40px;
            animation: spinStripes 20s linear infinite; /* Spinning animation */
        }

        /* Rotate the stripes */
        @keyframes spinStripes {
            from {
                transform: translateX(0);
            }
            to {
                transform: translateX(-50%);
            }
        }

        #progress-label {
            text-align: center;
            margin-top: 5px;
            font-size: 14px;
        }
    </style>
</head>
<body>

<div class="hero">
    <iframe width="914" height="514" src="https://www.youtube.com/embed/1oy-X-szc-0?list=TLGGoDhH3ovx8P0xNTEwMjAyNA" title="JENS FIETST - Een actie voor Kom Op Tegen Kanker" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div>

<div class="container">

    <div class="progress-bar-container">
        <div id="progress-bar" class="progress-bar">
            <div class="stripes"></div>
        </div>
    </div>
    <p id="progress-label"></p>

    <h2>Steun Team DOL bij de 100 km Run</h2>
    <p>
        Op 16 maart 2025 nemen wij – Sander, Nelis, Thomas en Pieter – deel aan de 100 km Run in De Schorre in Boom. Met afstanden van respectievelijk 40 km, 30 km, 20 km en 10 km zetten we ons samen in voor een wereld zonder kanker.
    </p>
    <p>
        Deze run is bijzonder persoonlijk voor ons. We lopen ter ondersteuning van onze goede vriend Jonathan, die al bijna twee jaar moedig strijdt tegen deze ziekte. Daarnaast herdenken we de moeder van Thomas, die onlangs door kanker van ons is weggenomen.
    </p>
    <p>
        Ons doel is om €2750 in te zamelen, en daarvoor hebben we jullie hulp hard nodig. Elke donatie, groot of klein, brengt ons dichter bij dit doel en helpt ons hoop te geven aan degenen die vechten tegen kanker.
    </p>
    <div class="btn-cont">
        <a href="https://www.komoptegenkanker.be/de-100km-run/doe-een-gift?team_id=340189350" class="button" target="_blank" rel="noopener noreferrer">Doneer nu aan Kom op tegen Kanker</a>
    </div>
</div>
<script>
    function parseCurrency(currencyStr) {
        const cleanedStr = currencyStr.replace(/[€\s]/g, '');

        // Replace comma with dot for decimal
        const normalizedStr = cleanedStr.replace(',', '.');

        // Parse the string to a float
        const parsedNumber = parseFloat(normalizedStr)*1000;

        return isNaN(parsedNumber) ? null : parsedNumber;
    }

    async function fetchDonationAmount() {
        try {
            const kotkUrl = 'https://www.komoptegenkanker.be/de-100km-run/steun-een-team/e6ab5947-7a93-4a05-bced-978892732137';
            const url = 'https://corsproxy.io/?' + encodeURIComponent(kotkUrl);
            const response = await fetch(url);

            if (!response.ok) {
                throw new Error('Netwerkresponse was niet ok.');
            }

            const htmlText = await response.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(htmlText, 'text/html');
            const currencyStr = doc.querySelector('.amount').textContent;
            updateProgressBar(currencyStr);
        } catch (error) {
            console.error('Er was een probleem met het ophalen van het donatiebedrag:', error);
            document.getElementById('donation-amount').textContent = 'Fout bij het ophalen van het donatiebedrag.';
        }
    }

    function updateProgressBar(currencyStr) {
        const max = 2750;
        const value = parseCurrency(currencyStr);

        // Calculate percentage
        const percentage = Math.min((value / max) * 100, 100);

        // Update progress bar width
        const progressBar = document.getElementById('progress-bar');
        progressBar.style.width = `${percentage}%`;

        // Update progress label
        const progressLabel = document.getElementById('progress-label');
        progressLabel.textContent = `Huidige donaties: ${percentage.toFixed(2)}% - €${value} van €${max}`;
    }

    fetchDonationAmount();
</script>
</body>
</html>